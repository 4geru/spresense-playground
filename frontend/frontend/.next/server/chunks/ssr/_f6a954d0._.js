module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71987),e=a.i(38246);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(0),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(0),[q,r]=(0,c.useState)(""),s="https://fyxftmwypdfuierggfqw.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ5eGZ0bXd5cGRmdWllcmdnZnF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyMDg3MDksImV4cCI6MjA3NTc4NDcwOX0.qS6jgQKMkw7jhic0SR9n1_KspGAe5Acc-RE0yh56euo",u=(0,c.useCallback)(async()=>{try{let a=await fetch(`${s}/functions/v1/get-original-images`,{method:"GET",headers:{Authorization:`Bearer ${t}`,apikey:t,"Content-Type":"application/json"}});if(!a.ok){let b=await a.text();throw Error(`HTTP error! status: ${a.status} - ${b}`)}let b=await a.json();if(b.success&&b.images){let a=b.images.map(a=>({name:a.name,url:a.url,created_at:a.created_at,size:a.size}));if(f(a),p(a.length),a.length>0)h(Math.floor(Math.random()*a.length)),j(!1);else throw Error('No images found with "original_capture" in filename')}else throw Error(b.error||"No images returned from Edge Function")}catch(a){console.error("Error loading images:",a),l(a instanceof Error?a.message:"Failed to load images"),j(!1)}},[s,t]),v=(0,c.useCallback)(async()=>{try{let a=await fetch(`${s}/functions/v1/get-original-images`,{method:"GET",headers:{Authorization:`Bearer ${t}`,apikey:t,"Content-Type":"application/json"}});if(!a.ok)return;let b=await a.json();if(b.success&&b.images){let a=b.images.length;if(a>o){console.log(`ðŸ†• New images detected! ${o} â†’ ${a}`);let c=b.images.map(a=>({name:a.name,url:a.url,created_at:a.created_at,size:a.size}));f(c),p(a),h(Math.floor(Math.random()*c.length)),n(`ðŸ†• ${a-o} new image${a-o>1?"s":""} detected!`),setTimeout(()=>n(null),3e3)}}}catch(a){console.error("Error checking for new images:",a)}},[s,t,o]),w=(0,c.useCallback)(()=>{let b;if(0!==a.length){if(a.length>1)do b=Math.floor(Math.random()*a.length);while(b===g)else b=0;h(b)}},[a.length,g]);return((0,c.useEffect)(()=>{u()},[u]),(0,c.useEffect)(()=>{if(a.length<=1)return;let b=setTimeout(()=>{w()},Math.floor(1e3*Math.random())+2e3);return()=>clearTimeout(b)},[a.length,w,g]),(0,c.useEffect)(()=>{let a=setInterval(()=>{v()},3e4);return()=>clearInterval(a)},[v]),(0,c.useEffect)(()=>{let a=()=>{r(new Date().toLocaleTimeString())};a();let b=setInterval(a,1e3);return()=>clearInterval(b)},[]),i)?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-black",children:(0,b.jsx)("div",{className:"text-white text-2xl",children:"Loading images..."})}):k?(0,b.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-black",children:(0,b.jsxs)("div",{className:"text-red-400 text-xl text-center",children:[(0,b.jsx)("p",{children:"Failed to load images from Supabase"}),(0,b.jsx)("p",{className:"mt-2",children:"Please check your connection and configuration"}),(0,b.jsx)("p",{className:"mt-4 text-sm",children:k})]})}):(0,b.jsxs)("div",{className:"relative w-screen h-screen bg-black overflow-hidden",children:[m&&(0,b.jsx)("div",{className:"fixed top-5 right-5 bg-green-500 bg-opacity-90 text-white px-5 py-4 rounded-lg text-base z-[2000] shadow-lg animate-slide-in",children:m}),(0,b.jsxs)("div",{className:"fixed top-5 left-5 bg-black bg-opacity-70 text-white px-4 py-2 rounded-md text-sm z-[2000]",children:["ðŸ“¸ Images: ",a.length," | ðŸ•’ ",q]}),(0,b.jsx)(e.default,{href:"/slides",className:"fixed top-5 left-1/2 -translate-x-1/2 bg-purple-600 bg-opacity-90 hover:bg-opacity-100 text-white px-6 py-2 rounded-lg text-sm z-[2000] transition shadow-lg",children:"ðŸ“· View Gallery"}),a.length>0&&(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,b.jsx)("div",{className:"relative w-full h-full",children:(0,b.jsx)(d.default,{src:a[g].url,alt:a[g].name,fill:!0,className:"object-contain",priority:!0,unoptimized:!0})})})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=_f6a954d0._.js.map