module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},78560,97895,a=>{"use strict";let b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ5eGZ0bXd5cGRmdWllcmdnZnF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyMDg3MDksImV4cCI6MjA3NTc4NDcwOX0.qS6jgQKMkw7jhic0SR9n1_KspGAe5Acc-RE0yh56euo";async function c(){let a=await fetch("https://fyxftmwypdfuierggfqw.supabase.co/functions/v1/get-original-images",{method:"GET",headers:{Authorization:`Bearer ${b}`,apikey:b,"Content-Type":"application/json"},cache:"no-store"});if(!a.ok){let b=await a.text();throw Error(`HTTP error! status: ${a.status} - ${b}`)}let c=await a.json();if(c.success&&c.images)return c.images.map(a=>({name:a.name,url:a.url,created_at:a.created_at,size:a.size}));throw Error(c.error||"No images returned from Edge Function")}function d(a){let b=0;for(let c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c),b&=b;return Math.abs(b).toString(16).padStart(9,"0").substring(0,9)}a.s(["fetchImages",()=>c],78560),a.s(["generateHashId",()=>d],97895)},3853,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(78560),f=a.i(97895),g=a.i(16495);function h(){return(0,b.jsx)("div",{className:"aspect-square bg-gray-900 rounded-lg overflow-hidden animate-pulse",children:(0,b.jsx)("div",{className:"w-full h-full bg-gray-800"})})}function i(){let{isLoggedIn:a,profile:i,isLiffReady:j,login:k}=(0,g.useLiff)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(null);return((0,c.useEffect)(()=>{!async function(){try{let a=(await (0,e.fetchImages)()).map(a=>({...a,hashId:(0,f.generateHashId)(a.name)}));a.sort((a,b)=>new Date(b.created_at).getTime()-new Date(a.created_at).getTime()),m(a),o(!1)}catch(a){console.error("Error loading images:",a),q(a instanceof Error?a.message:"Failed to load images"),o(!1)}}()},[]),n)?(0,b.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,b.jsx)("header",{className:"sticky top-0 z-10 bg-black bg-opacity-90 backdrop-blur border-b border-gray-800",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Gallery"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Loading..."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.default,{href:"/",className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition",children:"Slideshow"}),j&&(0,b.jsx)(b.Fragment,{children:a&&i?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm hidden sm:block",children:i.displayName}),i.pictureUrl&&(0,b.jsx)("img",{src:i.pictureUrl,alt:i.displayName,className:"w-8 h-8 rounded-full"})]}):(0,b.jsx)("button",{onClick:k,className:"bg-[#06C755] hover:bg-[#05b34c] text-white px-4 py-2 rounded text-sm transition",children:"Login"})})]})]})}),(0,b.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:Array.from({length:10}).map((a,c)=>(0,b.jsx)(h,{},c))})})]}):p?(0,b.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,b.jsx)("header",{className:"sticky top-0 z-10 bg-black bg-opacity-90 backdrop-blur border-b border-gray-800",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Gallery"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Error"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.default,{href:"/",className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition",children:"Slideshow"}),j&&(0,b.jsx)(b.Fragment,{children:a&&i?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm hidden sm:block",children:i.displayName}),i.pictureUrl&&(0,b.jsx)("img",{src:i.pictureUrl,alt:i.displayName,className:"w-8 h-8 rounded-full"})]}):(0,b.jsx)("button",{onClick:k,className:"bg-[#06C755] hover:bg-[#05b34c] text-white px-4 py-2 rounded text-sm transition",children:"Login"})})]})]})}),(0,b.jsx)("div",{className:"flex min-h-[calc(100vh-80px)] items-center justify-center",children:(0,b.jsxs)("div",{className:"text-red-400 text-xl text-center",children:[(0,b.jsx)("p",{children:"Failed to load images"}),(0,b.jsx)("p",{className:"mt-4 text-sm",children:p}),(0,b.jsx)(d.default,{href:"/",className:"mt-6 inline-block text-blue-400 hover:text-blue-300",children:"â† Back to Home"})]})})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,b.jsx)("header",{className:"sticky top-0 z-10 bg-black bg-opacity-90 backdrop-blur border-b border-gray-800",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Gallery"}),(0,b.jsxs)("p",{className:"text-sm text-gray-400",children:[l.length," images"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.default,{href:"/",className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition",children:"Slideshow"}),j&&(0,b.jsx)(b.Fragment,{children:a&&i?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm hidden sm:block",children:i.displayName}),i.pictureUrl&&(0,b.jsx)("img",{src:i.pictureUrl,alt:i.displayName,className:"w-8 h-8 rounded-full"})]}):(0,b.jsx)("button",{onClick:k,className:"bg-[#06C755] hover:bg-[#05b34c] text-white px-4 py-2 rounded text-sm transition",children:"Login"})})]})]})}),(0,b.jsx)("main",{className:"container mx-auto px-4 py-8",children:0===l.length?(0,b.jsxs)("div",{className:"text-center text-gray-400 py-20",children:[(0,b.jsx)("p",{className:"text-xl",children:"No images found"}),(0,b.jsx)("p",{className:"mt-2",children:"Upload some images to get started"})]}):(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:l.map((a,c)=>(0,b.jsx)(d.default,{href:`/slides/${a.hashId}`,className:"group block bg-gray-900 rounded-lg overflow-hidden hover:ring-2 hover:ring-purple-500 transition-all",children:(0,b.jsxs)("div",{className:"relative",style:{aspectRatio:"1 / 1"},children:[(0,b.jsx)("img",{src:a.url,alt:a.name,loading:c<8?"eager":"lazy",style:{width:"100%",height:"100%",objectFit:"cover",display:"block"},className:"group-hover:scale-105 transition-transform duration-300"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,b.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[(0,b.jsx)("p",{className:"text-white text-xs font-medium truncate",children:a.name}),(0,b.jsx)("p",{className:"text-gray-300 text-xs mt-1",children:new Date(a.created_at).toLocaleDateString()})]})})]})},a.hashId))})})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=_cd9fa01d._.js.map